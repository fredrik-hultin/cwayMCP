# Cway MCP Server Environment Variables
# Copy this file to .env and fill in your actual values

# =============================================================================
# AUTHENTICATION CONFIGURATION
# =============================================================================

# Authentication Method:
# - Per-request: Each user sends their token with requests (ChatGPT MCP)
# - Static: Single shared token (local development/Claude Desktop)
CWAY_API_TOKEN=your_bearer_token_here

# -----------------------------------------------------------------------------
# Multi-User Token Storage (for ChatGPT MCP Connector)
# -----------------------------------------------------------------------------
# Users can register additional organization tokens using the MCP tools:
# - register_org_token(org_name, token)
# - list_my_organizations()
# - remove_org_token(org_name)
#
# Tokens are encrypted at rest using Fernet encryption (AES-128)
# Generate a key with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
TOKEN_ENCRYPTION_KEY=your_fernet_encryption_key_here

# Token database path (optional, defaults to data/tokens.db)
TOKEN_DB_PATH=data/tokens.db

# -----------------------------------------------------------------------------
# Option 2: Per-User OAuth2 Authentication (Recommended)
# -----------------------------------------------------------------------------
# Uncomment and configure these for per-user authentication with Entra ID
# See docs/AZURE_AD_SETUP.md for detailed setup instructions

# AUTH_METHOD=oauth2
# AZURE_TENANT_ID=your-tenant-id-here
# AZURE_CLIENT_ID=your-client-id-here

# Runtime: Set which user's tokens to use (required when AUTH_METHOD=oauth2)
# CWAY_USERNAME=your@email.com

# =============================================================================
# API CONFIGURATION
# =============================================================================

# Cway API URL (Optional - defaults to production)
CWAY_API_URL=https://app.cway.se/graphql

# =============================================================================
# MCP SERVER CONFIGURATION
# =============================================================================

# Server host and port (Optional)
MCP_SERVER_HOST=localhost
MCP_SERVER_PORT=8000

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Enable debug mode (Optional)
DEBUG=false

# =============================================================================
# REQUEST CONFIGURATION
# =============================================================================

# HTTP request timeout in seconds
REQUEST_TIMEOUT=30

# Maximum number of API retries
MAX_RETRIES=3

# =============================================================================
# NOTES
# =============================================================================
# 
# Per-User Authentication Setup:
# 1. Set AUTH_METHOD=oauth2
# 2. Configure AZURE_TENANT_ID and AZURE_CLIENT_ID (see AZURE_AD_SETUP.md)
# 3. Run: python scripts/cway_login.py
# 4. Set CWAY_USERNAME environment variable
# 5. Start MCP server
#
# For detailed documentation:
# - docs/PER_USER_AUTH.md - Architecture overview
# - docs/AZURE_AD_SETUP.md - Azure AD configuration guide
# - server/scripts/README_AUTH_SCRIPTS.md - CLI scripts usage
